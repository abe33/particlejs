(function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g={}.hasOwnProperty,y=function(e,t){function r(){this.constructor=e}for(var n in t)g.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};this.particlejs||(this.particlejs={}),e=function(){function e(){}return e.prototype.prepare=function(e,t,n){this.bias=e,this.biasInSeconds=t,this.time=n},e}(),s=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return y(t,e),t.prototype.process=function(e){e.life+=this.bias;if(e.life>=e.maxLife)return e.die()},t}(e),u=function(){function e(){}return e.prototype.prepare=function(){},e.prototype.process=function(){},e}(),t=function(){function e(e){this.rate=e!=null?e:1,this.count=0,this.rest=0}return e.prototype.prepare=function(e,t,n){return this.rest+=t*this.rate,this.count=Math.floor(this.rest),this.rest-=this.count},e}(),a=function(){function e(){}return e.prototype.count=0,e.prototype.prepare=function(){},e}(),n=function(){function e(e,t,n,r,i){this.particleType=e!=null?e:h,this.emitter=t!=null?t:new f,this.timer=n!=null?n:new c,this.counter=r!=null?r:new a,this.initializer=i!=null?i:null}return e.prototype.prepare=function(e,t,n){var r;return this.timer.prepare(e,t,n),r=this.timer.nextTime,this.counter.prepare(r,r/1e3,n),this.currentCount=this.counter.count,this.currentTime=r,this.iterator=0},e.prototype.hasNext=function(){return this.iterator<this.currentCount},e.prototype.next=function(){var e,t;return e=this.particleType.get({position:this.emitter.get()}),(t=this.initializer)!=null&&t.initialize(e),this.iterator++,e},e.prototype.nextTime=function(){return this.iterator/this.currentCount*this.currentTime},e.prototype.finished=function(){return this.timer.finished()},e}(),p=geomjs.Point,f=function(){function e(){}return e.prototype.get=function(){return new p},e}(),p=geomjs.Point,d=function(){function e(e){this.point=e!=null?e:new p}return e.prototype.get=function(){return this.point.clone()},e}(),r=function(){function e(e){this.life=e}return e.prototype.initialize=function(e){return e.maxLife=this.life},e}(),l=function(){function e(){}return e.prototype.initialize=function(){},e}(),o=geomjs.Mixin,v=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return y(t,e),t.included=function(e){return e.resetPools=function(){return this.allocated=[],this.pooled=[]},e.get=function(t){var n,r,i;t==null&&(t={}),this.pooled.length>0?n=this.pooled.shift():n=new e,typeof n.init=="function"&&n.init();for(r in t)i=t[r],n[r]=i;return this.allocated.push(n),n},e.release=function(e){var t;return t=this.allocated.indexOf(e),e.dispose(),this.allocated.splice(t,1),this.pooled.push(e)},e.resetPools()},t}(o),p=geomjs.Point,h=function(){function e(){}return v.attachTo(e),e.prototype.init=function(){return this.dead=!1,this.life=0,this.maxLife=0,this.position=new p,this.lastPosition=new p,this.velocity=new p,this.parasites={}},e.prototype.dispose=function(){return this.position=null,this.lastPosition=null,this.velocity=null,this.parasites=null},e.prototype.die=function(){return this.dead=!0,this.life=this.maxLife},e.prototype.revive=function(){return this.dead=!1,this.life=0},e}(),m=function(){function e(e,t){this.initializer=e,this.action=t}return e}(),i=function(){function e(e,t){this.duration=e!=null?e:1e3,this.since=t!=null?t:0,this.time=0,this.nextTime=0}return e.prototype.prepare=function(e,t,n){return this.firstTime?this.nextTime=e:(this.nextTime=this.since+e,this.firstTime=!0),this.time+=e},e.prototype.finished=function(){return this.time>=this.duration},e}(),c=function(){function e(){}return e.prototype.nextTime=0,e.prototype.prepare=function(){},e.prototype.finished=function(){return!0},e}(),this.particlejs.BaseAction=e,this.particlejs.Live=s,this.particlejs.NullAction=u,this.particlejs.ByRate=t,this.particlejs.NullCounter=a,this.particlejs.Emission=n,this.particlejs.NullEmitter=f,this.particlejs.Ponctual=d,this.particlejs.Life=r,this.particlejs.NullInitializer=l,this.particlejs.Poolable=v,this.particlejs.Particle=h,this.particlejs.System=m,this.particlejs.Limited=i,this.particlejs.NullTimer=c}).call(this)