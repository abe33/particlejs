(function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p={}.hasOwnProperty,d=function(e,t){function r(){this.constructor=e}for(var n in t)p.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};this.particlejs||(this.particlejs={}),e=function(){function e(e){this.rate=e!=null?e:1,this.count=0,this.rest=0}return e.prototype.prepare=function(e,t,n){return this.rest+=t*this.rate,this.count=Math.floor(this.rest),this.rest-=this.count},e}(),s=function(){function e(){}return e.prototype.count=0,e.prototype.prepare=function(){},e}(),t=function(){function e(e,t,n,r,i){this.particleType=e!=null?e:f,this.emitter=t!=null?t:new o,this.timer=n!=null?n:new a,this.counter=r!=null?r:new s,this.initializer=i!=null?i:null}return e.prototype.prepare=function(e,t,n){var r;return this.timer.prepare(e,t,n),r=this.timer.nextTime,this.counter.prepare(r,r/1e3,n),this.currentCount=this.counter.count,this.currentTime=r,this.iterator=0},e.prototype.hasNext=function(){return this.iterator<this.currentCount},e.prototype.next=function(){var e,t;return e=this.particleType.get({position:this.emitter.get()}),(t=this.initializer)!=null&&t.initialize(e),this.iterator++,e},e.prototype.nextTime=function(){return this.iterator/this.currentCount*this.currentTime},e.prototype.finished=function(){return this.timer.finished()},e}(),l=geomjs.Point,o=function(){function e(){}return e.prototype.get=function(){return new l},e}(),l=geomjs.Point,c=function(){function e(e){this.point=e!=null?e:new l}return e.prototype.get=function(){return this.point.clone()},e}(),n=function(){function e(e){this.life=e}return e.prototype.initialize=function(e){return e.maxLife=this.life},e}(),u=function(){function e(){}return e.prototype.initialize=function(){},e}(),i=geomjs.Mixin,h=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return d(t,e),t.included=function(e){return e.resetPools=function(){return this.allocated=[],this.pooled=[]},e.get=function(t){var n,r,i;t==null&&(t={}),this.pooled.length>0?n=this.pooled.shift():n=new e,typeof n.init=="function"&&n.init();for(r in t)i=t[r],n[r]=i;return this.allocated.push(n),n},e.release=function(e){var t;return t=this.allocated.indexOf(e),e.dispose(),this.allocated.splice(t,1),this.pooled.push(e)},e.resetPools()},t}(i),l=geomjs.Point,f=function(){function e(){}return h.attachTo(e),e.prototype.init=function(){return this.dead=!1,this.life=0,this.maxLife=0,this.position=new l,this.lastPosition=new l,this.velocity=new l,this.parasites={}},e.prototype.dispose=function(){return this.position=null,this.lastPosition=null,this.velocity=null,this.parasites=null},e.prototype.die=function(){return this.dead=!0,this.life=this.maxLife},e.prototype.revive=function(){return this.dead=!1,this.life=0},e}(),r=function(){function e(e,t){this.duration=e!=null?e:1e3,this.since=t!=null?t:0,this.time=0,this.nextTime=0}return e.prototype.prepare=function(e,t,n){return this.firstTime?this.nextTime=e:(this.nextTime=this.since+e,this.firstTime=!0),this.time+=e},e.prototype.finished=function(){return this.time>=this.duration},e}(),a=function(){function e(){}return e.prototype.nextTime=0,e.prototype.prepare=function(){},e.prototype.finished=function(){return!0},e}(),this.particlejs.ByRate=e,this.particlejs.NullCounter=s,this.particlejs.Emission=t,this.particlejs.NullEmitter=o,this.particlejs.Ponctual=c,this.particlejs.Life=n,this.particlejs.NullInitializer=u,this.particlejs.Poolable=h,this.particlejs.Particle=f,this.particlejs.Limited=r,this.particlejs.NullTimer=a}).call(this)